import{g as V,u as W,h as X,i as Z,j as ee,t as se,k as te,l as R,m as f,n as e,p as ae,q as le,s as oe,R as j,v as re,x as ie,y as ne,z as ue,A as ce,B as $,C as I,D as pe,E as ge,F as de,G as ve,L as he,H as me,I as ye,J as be,K as M,M as Ee,N as B}from"./app-DcPmYxSv.js";const we=["/article.html","/","/intro.html","/slides.html","/posts/2022-08-01-install-ubuntu-22.04/","/posts/2022-08-02-install-ubuntu-nginx-by-apt/","/posts/2022-08-03-uninstall-ubuntu-nginx/","/posts/2022-08-04-install-ubuntu-nginx-by-official/","/posts/2022-08-05-install-ubuntu-node-js/","/posts/2022-08-06-install-ubuntu-php-7/","/posts/2022-08-07-install-ubuntu-php-8/","/posts/2022-08-08-install-ubuntu-composer/","/posts/2022-08-09-install-ubuntu-xdebug/","/posts/2022-08-13-install-ubuntu-mariadb/","/posts/2022-08-14-install-ubuntu-laravel/","/posts/2022-08-24-config-mariadb-10.6/","/posts/2022-08-26-config-mariadb-innodb-page-size/","/posts/2022-08-28-config-php/","/posts/2022-08-30-laravel-readme-example/","/posts/2022-09-01-install-windows-nginx/","/posts/2022-09-02-install-windows-mariadb/","/posts/2022-09-03-install-windows-php/","/posts/2022-09-04-install-windows-xdebug/","/posts/2022-09-05-install-windows-run-hidden-console/","/posts/2022-09-06-install-windows-laravel/","/posts/2022-09-20-command-laravel/","/posts/2022-11-29-config-nginx/","/posts/2022-11-29-install-ubuntu-fonts/","/posts/2022-12-06-command-composer/","/posts/2022-12-06-command-npm/","/posts/2022-12-15-setting-ssh-key/","/posts/2022-12-16-setting-git/","/posts/2022-12-16-setting-ssh-key-to-linux/","/posts/2022-12-20-install-ubuntu-docker/","/posts/2023-03-28-self-signed-certificate/","/posts/2023-04-10-config-nginx-php/","/posts/2023-04-18-install-ubuntu-postgresql/","/posts/2023-04-19-install-ubuntu-pgadmin4/","/posts/2023-04-20-guide-postgresql/","/posts/2023-04-21-laravel-swagger-ui/","/posts/2023-07-05-asp-dot-net-core-6-web-api/","/posts/2023-07-05-install-ubuntu-asp-net-6/","/posts/2023-07-05-install-ubuntu-docker-sqlserver/","/posts/2023-07-08-install-ubuntu-docker-aspnet-core-6/","/posts/2023-07-08-install-ubuntu-portainer/","/posts/2023-07-12-vueuse-disable-transition/","/posts/2023-07-19-deploy-vite-another-repository-using-github-actions/","/posts/2023-08-07-asp-dot-net-core-6-web-api-route-custom/","/posts/2023-08-08-asp-dot-net-core-6-web-api-annotations/","/posts/2023-08-15-asp-dot-net-core-6-web-api-template/","/posts/2023-08-20-laravel-use-headless-chrome-print-pdf/","/posts/2023-08-22-setting-ubuntu-address/","/posts/2023-09-12-disable-icmp/","/posts/2023-12-27-php-phar/","/posts/2024-01-16-php-unable-load-library/","/posts/2024-02-25-keyboard-hook/","/posts/2024-02-25-keyboard-scan-code/","/posts/2024-04-29-minimal-api-vue/","/posts/2024-06-10-install-ubuntu-php-apache/","/posts/2024-07-21-aws-vpc-elb-ec2/","/posts/2024-09-09-google-maps-distance-matrix-api/","/posts/2024-11-30-recaptcha-v2/","/posts/2025-07-29-git-filter-branch-guide/","/posts/2025-08-15-minio-installation-and-usage/","/404.html","/posts/","/category/","/category/%E4%BD%9C%E6%A5%AD%E7%B3%BB%E7%B5%B1/","/category/%E4%BC%BA%E6%9C%8D%E5%99%A8/","/category/%E5%89%8D%E7%AB%AF/","/category/%E5%BE%8C%E7%AB%AF/","/category/%E8%B3%87%E6%96%99%E5%BA%AB/","/category/%E9%96%8B%E7%99%BC%E7%92%B0%E5%A2%83/","/category/ssh/","/category/%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/","/category/docker/","/category/cicd/","/category/%E8%B3%87%E5%AE%89/","/category/%E5%A4%96%E6%8E%9B%E9%96%8B%E7%99%BC/","/category/%E9%9B%B2%E7%AB%AF/","/category/%E5%85%A8%E7%AB%AF/","/category/%E8%B3%87%E6%96%99%E5%84%B2%E5%AD%98/","/tag/","/tag/ssh/","/tag/ubuntu/","/tag/ubuntu-22.04/","/tag/linux/","/tag/vmware/","/tag/nginx/","/tag/nginx-1.18/","/tag/nginx-1.22/","/tag/npm/","/tag/node.js/","/tag/php/","/tag/php-7/","/tag/ubuntu%C2%A022.04/","/tag/php-8/","/tag/composer/","/tag/xdebug/","/tag/mariadb/","/tag/mariadb-10.6/","/tag/laravel/","/tag/nginx-1.23/","/tag/windows/","/tag/runhiddenconsole/","/tag/%E5%AD%97%E9%AB%94%E8%A8%AD%E5%AE%9A/","/tag/git/","/tag/github/","/tag/gitlab/","/tag/docker/","/tag/openssl/","/tag/php-7.4/","/tag/postgresql/","/tag/postgresql-14/","/tag/pgadmin4/","/tag/swagger/","/tag/swagger-ui/","/tag/api/","/tag/asp.net-core/","/tag/asp.net-core-6/","/tag/kestrel/","/tag/sql-server/","/tag/sql-server-2022/","/tag/portainer/","/tag/ubuntu22.04/","/tag/vue/","/tag/vue-3/","/tag/vue.js/","/tag/vue-3.js/","/tag/github-actions/","/tag/github-pages/","/tag/cicd/","/tag/devops/","/tag/chrome/","/tag/pdf/","/tag/%E5%A4%96%E6%8E%9B/","/tag/asp.net-framework/","/tag/c_/","/tag/%E6%8C%89%E9%8D%B5%E7%B2%BE%E9%9D%88/","/tag/%E9%8D%B5%E7%9B%A4%E8%85%B3%E6%9C%AC/","/tag/minimal-api/","/tag/ubuntu%C2%A024.04/","/tag/aws/","/tag/elb/","/tag/ec2/","/tag/typescript/","/tag/asp.net-core-8/","/tag/minio/","/tag/object-storage/","/tag/s3/","/article/","/star/","/timeline/"],Ae="SLIMSEARCH_QUERY_HISTORY",y=M(Ae,[]),fe=()=>{const{queryHistoryCount:l}=B;return{enabled:l>0,queryHistories:y,addQueryHistory:n=>{y.value=Array.from(new Set([n,...y.value.slice(0,l-1)]))},removeQueryHistory:n=>{y.value=[...y.value.slice(0,n),...y.value.slice(n+1)]}}},Q=l=>we[l.id]+("anchor"in l?`#${l.anchor}`:""),Be="SLIMSEARCH_RESULT_HISTORY",{resultHistoryCount:T}=B,b=M(Be,[]),xe=()=>({enabled:T>0,resultHistories:b,addResultHistory:i=>{{const n={link:Q(i),display:i.display};"header"in i&&(n.header=i.header),b.value=[n,...b.value.slice(0,T-1)]}},removeResultHistory:i=>{b.value=[...b.value.slice(0,i),...b.value.slice(i+1)]}}),ke=l=>{const{page:i,routeLocale:n}=pe(),x=ge(),o=R(0),E=f(()=>o.value>0),p=de([]);return ve(()=>{const{search:k,terminate:v}=he(),w=ye(h=>{const{resultsFilter:C=a=>a,querySplitter:m,suggestionsFilter:S,...r}=x.value;h?(o.value+=1,k(h,n.value,r).then(a=>C(a,h,n.value,i.value)).then(a=>{o.value-=1,p.value=a}).catch(a=>{console.warn(a),o.value-=1,o.value||(p.value=[])})):p.value=[]},B.searchDelay-B.suggestDelay,{maxWait:5e3});me([l,n],([h])=>w(h.join(" "))),be(()=>{v()})}),{isSearching:E,results:p}};var He=V({name:"SearchResult",props:{queries:{type:Array,required:!0},isFocusing:Boolean},emits:["close","updateQuery"],setup(l,{emit:i}){const n=W(),x=X(),o=Z(ee),{addQueryHistory:E,queryHistories:p,removeQueryHistory:k}=fe(),{resultHistories:v,addResultHistory:w,removeResultHistory:h}=xe(),C=se(l,"queries"),{results:m,isSearching:S}=ke(C),r=te({isQuery:!0,index:0}),a=R(0),g=R(0),L=f(()=>p.value.length>0||v.value.length>0),H=f(()=>m.value.length>0),q=f(()=>m.value[a.value]||null),_=()=>{const{isQuery:s,index:t}=r;t===0?(r.isQuery=!s,r.index=s?v.value.length-1:p.value.length-1):r.index=t-1},U=()=>{const{isQuery:s,index:t}=r;t===(s?p.value.length-1:v.value.length-1)?(r.isQuery=!s,r.index=0):r.index=t+1},O=()=>{a.value=a.value>0?a.value-1:m.value.length-1,g.value=q.value.contents.length-1},P=()=>{a.value=a.value<m.value.length-1?a.value+1:0,g.value=0},Y=()=>{g.value<q.value.contents.length-1?g.value+=1:P()},z=()=>{g.value>0?g.value-=1:O()},D=s=>s.map(t=>Ee(t)?t:e(t[0],t[1])),G=s=>{if(s.type==="customField"){const t=ue[s.index]||"$content",[d,u=""]=ce(t)?t[x.value].split("$content"):t.split("$content");return s.display.map(c=>e("div",D([d,...c,u])))}return s.display.map(t=>e("div",D(t)))},A=()=>{a.value=0,g.value=0,i("updateQuery",""),i("close")},J=()=>e("div",{class:"slimsearch-records"},e("div",{class:"slimsearch-record"},[e("div",{class:"slimsearch-record-title"},o.value.queryHistory),e("ul",{class:"slimsearch-record-contents",role:"listbox"},p.value.map((s,t)=>{const d=r.isQuery&&r.index===t;return e("li",{class:["slimsearch-record-matches",{active:d}],role:"option","aria-selected":d,onClick:()=>{i("updateQuery",s)}},e("div",[e($,{class:"slimsearch-record-type"}),e("div",{class:"slimsearch-record-content"},s),e("button",{type:"button",class:"slimsearch-remove-icon",title:o.value.remove,"aria-label":o.value.remove,innerHTML:I,onClick:u=>{u.preventDefault(),u.stopPropagation(),k(t)}})]))}))])),K=()=>e("ul",{class:"slimsearch-records"},e("li",{class:"slimsearch-record"},[e("div",{class:"slimsearch-record-title"},o.value.resultHistory),e("ul",{class:"slimsearch-record-contents",role:"listbox"},v.value.map((s,t)=>{const d=!r.isQuery&&r.index===t;return e("li",{class:["slimsearch-record-matches",{active:d}],role:"option","aria-selected":d},e(j,{to:s.link,onClick:()=>{A()}},()=>[e($,{class:"slimsearch-record-type"}),e("div",{class:"slimsearch-record-content"},[s.header?e("div",{class:"slimsearch-record-content-header"},s.header):null,e("div",s.display.map(u=>D(u)).flat())]),e("button",{type:"button",class:"slimsearch-remove-icon",title:o.value.remove,"aria-label":o.value.remove,innerHTML:I,onClick:u=>{u.preventDefault(),u.stopPropagation(),h(t)}})]))}))]));return ae("keydown",s=>{if(l.isFocusing){if(H.value){if(s.key==="ArrowUp")z();else if(s.key==="ArrowDown")Y();else if(s.key==="Enter"){const t=q.value.contents[g.value];E(l.queries.join(" ")),w(t),n.push(Q(t)),A()}}else if(s.key==="ArrowUp")_();else if(s.key==="ArrowDown")U();else if(s.key==="Enter"){const{index:t}=r;r.isQuery?(s.preventDefault(),i("updateQuery",p.value[t])):(n.push(v.value[t].link),A())}}}),le([a,g],()=>{document.querySelector(".slimsearch-record.active .slimsearch-record-matches.active")?.scrollIntoView(!1)},{flush:"post"}),()=>e("div",{id:"slimsearch-results",class:["slimsearch-result-wrapper",{empty:l.queries.length?!H.value:!L.value}]},l.queries.length?S.value?e(oe,{hint:o.value.searching}):H.value?e("div",{class:"slimsearch-records",role:"listbox","aria-labeledby":"slimsearch-label"},m.value.map(({title:s,contents:t},d)=>{const u=a.value===d;return e("div",{class:["slimsearch-record",{active:u}],role:"group","aria-selected":u},[e("div",{class:"slimsearch-record-title"},s||o.value.defaultTitle),e("ul",{class:"slimsearch-record-contents"},t.map((c,N)=>{const F=u&&g.value===N;return e("li",{class:["slimsearch-record-matches",{active:F}],role:"option","aria-selected":F},e(j,{to:Q(c),onClick:()=>{E(l.queries.join(" ")),w(c),A()}},()=>[c.type==="text"?null:e(c.type==="title"?re:c.type==="heading"?ie:ne,{class:"slimsearch-record-type"}),e("div",{class:"slimsearch-record-content"},[c.type==="text"&&c.header?e("div",{class:"slimsearch-record-content-header"},c.header):null,e("div",G(c))])]))}))])})):o.value.emptyResult:L.value?[J(),K()]:o.value.emptyHistory)}});export{He as default};
