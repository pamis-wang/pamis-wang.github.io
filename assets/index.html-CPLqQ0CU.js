import{_ as e}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as n,a as s,b as t,e as h,f as a,o as l}from"./app-BnAZYMcT.js";const r="/assets/meme-01-0kfBsdsB.png",p={};function d(g,i){return l(),n("div",null,[i[0]||(i[0]=s("h1",{id:"在-ubuntu-移除-nginx-伺服器",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#在-ubuntu-移除-nginx-伺服器"},[s("span",null,"在 Ubuntu 移除 Nginx 伺服器")])],-1)),i[1]||(i[1]=s("h2",{id:"前言",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#前言"},[s("span",null,"前言")])],-1)),i[2]||(i[2]=s("p",null,[a("當 Nginx 有比較大的改版，"),s("br"),a(" 建議將舊版刪除乾淨再安裝新版。")],-1)),t(" more "),i[3]||(i[3]=h(`<h2 id="備份舊版設定檔案" tabindex="-1"><a class="header-anchor" href="#備份舊版設定檔案"><span>備份舊版設定檔案</span></a></h2><p>很重要！</p><p>在 Ubuntu 作業系統使用 APT 官方套件來源安裝的話，<br> 通常設定檔路徑會在 <code>/etc/nginx</code> 內。</p><p>雖然新舊版本設定不一定能完全沿用，至少可以有舊版參考。</p><h2 id="停止伺服器服務" tabindex="-1"><a class="header-anchor" href="#停止伺服器服務"><span>停止伺服器服務</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> service</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nginx</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> stop</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="刪除-nginx-包含設定文件" tabindex="-1"><a class="header-anchor" href="#刪除-nginx-包含設定文件"><span>刪除 Nginx 包含設定文件</span></a></h2><p><code>remove</code> 會從系統中刪除套件但不刪除設定，<br><code>purge</code> 會從系統中完全刪除套件與設定。</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> apt-get</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> purge</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nginx</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 或</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> apt-get</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --purge</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> remove</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nginx</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="移除軟體並清理遺留的垃圾" tabindex="-1"><a class="header-anchor" href="#移除軟體並清理遺留的垃圾"><span>移除軟體並清理遺留的垃圾</span></a></h2><p>安裝套件通常會一併安裝相依的套件，<br> 使用 <code>autoremove</code> 可以自動刪除，<br> 不過如果安裝很多第三方套件來源的人可能會採坑，還是要小心使用。</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> apt-get</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> autoremove</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="列出與-nginx-相關的軟體並刪除顯示的軟體列表" tabindex="-1"><a class="header-anchor" href="#列出與-nginx-相關的軟體並刪除顯示的軟體列表"><span>列出與 Nginx 相關的軟體並刪除顯示的軟體列表</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">dpkg</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --get-selections</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">grep</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nginx</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> apt-get</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --purge</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> remove</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nginx</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> apt-get</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --purge</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> remove</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nginx-common</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> apt-get</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --purge</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> remove</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nginx-full</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="再次執行並確認是否都刪除" tabindex="-1"><a class="header-anchor" href="#再次執行並確認是否都刪除"><span>再次執行並確認是否都刪除</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">dpkg</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --get-selections</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">grep</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nginx</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="不再顯示-nginx" tabindex="-1"><a class="header-anchor" href="#不再顯示-nginx"><span>不再顯示 Nginx</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">which</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nginx</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="重啟電腦" tabindex="-1"><a class="header-anchor" href="#重啟電腦"><span>重啟電腦</span></a></h2><p>江湖傳說「重開機治百病」。</p><figure><img src="`+r+'" alt="偶爾來個大叔冷笑話" tabindex="0" loading="lazy"><figcaption>偶爾來個大叔冷笑話</figcaption></figure><h2 id="參考資料" tabindex="-1"><a class="header-anchor" href="#參考資料"><span>參考資料</span></a></h2><p><a href="https://blog.csdn.net/qq_33867131/article/details/109129570" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/qq_33867131/article/details/109129570</a></p>',23))])}const c=e(p,[["render",d]]),u=JSON.parse('{"path":"/posts/2022-08-03-uninstall-ubuntu-nginx/","title":"在 Ubuntu 移除 Nginx 伺服器","lang":"zh-TW","frontmatter":{"title":"在 Ubuntu 移除 Nginx 伺服器","description":"在 Ubuntu 移除 Nginx 伺服器","date":"2022-08-03T00:00:00.000Z","category":"伺服器","tag":["Nginx","Nginx 1.18","Ubuntu","Ubuntu 22.04"],"head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"在 Ubuntu 移除 Nginx 伺服器\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2022-08-03T00:00:00.000Z\\",\\"dateModified\\":\\"2023-11-21T05:44:03.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Pamis Wang\\",\\"url\\":\\"https://pamis.dev\\",\\"email\\":\\"pamis.wang@gmail.com\\"}]}"],["meta",{"property":"og:url","content":"https://pamis.dev/posts/2022-08-03-uninstall-ubuntu-nginx/"}],["meta",{"property":"og:site_name","content":"Pamis Blog"}],["meta",{"property":"og:title","content":"在 Ubuntu 移除 Nginx 伺服器"}],["meta",{"property":"og:description","content":"在 Ubuntu 移除 Nginx 伺服器"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-TW"}],["meta",{"property":"og:updated_time","content":"2023-11-21T05:44:03.000Z"}],["meta",{"property":"article:tag","content":"Ubuntu 22.04"}],["meta",{"property":"article:tag","content":"Ubuntu"}],["meta",{"property":"article:tag","content":"Nginx 1.18"}],["meta",{"property":"article:tag","content":"Nginx"}],["meta",{"property":"article:published_time","content":"2022-08-03T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2023-11-21T05:44:03.000Z"}]]},"git":{"createdTime":1689521396000,"updatedTime":1700545443000,"contributors":[{"name":"pamis","username":"pamis","email":"pamis1116@gmail.com","commits":6,"url":"https://github.com/pamis"},{"name":"EXMAIL\\\\pamis","username":"","email":"pamis@mail.tca.org.tw","commits":1}]},"readingTime":{"minutes":1.24,"words":371},"filePathRelative":"posts/2022-08-03-uninstall-ubuntu-nginx/index.md","excerpt":"\\n<h2>前言</h2>\\n<p>當 Nginx 有比較大的改版，<br>\\n建議將舊版刪除乾淨再安裝新版。</p>\\n"}');export{c as comp,u as data};
