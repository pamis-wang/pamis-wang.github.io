import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,e,o as n}from"./app-Cfgedju3.js";const l="/assets/2023-08-17-01-BXAn3huU.png",t={};function h(p,s){return n(),a("div",null,s[0]||(s[0]=[e('<h1 id="產生與設定自簽憑證" tabindex="-1"><a class="header-anchor" href="#產生與設定自簽憑證"><span>產生與設定自簽憑證</span></a></h1><h2 id="前言" tabindex="-1"><a class="header-anchor" href="#前言"><span>前言</span></a></h2><p>現在因為資安趨勢所致，對於網站的資安都有要求。<br> 如果還是用 <code>http</code> 的網站或是有用 <code>https</code> 卻沒有 SSL 憑證，<br> 就會看到瀏覽器噴出警告畫面。</p><figure><img src="'+l+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>當開發網站要在測試環境為了方便測試，<br> 要讓伺服器自己產生一張憑證，然後匯入本機電腦，<br> 瀏覽器才不會跳出警告畫面。</p><h2 id="安裝-openssl-工具" tabindex="-1"><a class="header-anchor" href="#安裝-openssl-工具"><span>安裝 OpenSSL 工具</span></a></h2><p>要建立自簽憑證就要先安裝 <code>openssl</code> 套件</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-sh"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> apt</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> openssl</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="使用-openssl-建立自簽憑證" tabindex="-1"><a class="header-anchor" href="#使用-openssl-建立自簽憑證"><span>使用 OpenSSL 建立自簽憑證</span></a></h2><p>參照以下步驟來建立自簽憑證。</p><h3 id="建立-ssl-conf-設定檔" tabindex="-1"><a class="header-anchor" href="#建立-ssl-conf-設定檔"><span>建立  <code>ssl.conf</code>  設定檔</span></a></h3><div class="language-ini line-numbers-mode" data-highlighter="shiki" data-ext="ini" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-ini"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">[req]</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">prompt</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;"> no</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">default_md</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;"> sha256</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">default_bits</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;"> 2048</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">distinguished_name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;"> dn</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">x509_extensions</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;"> v3_req</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">[dn]</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">C</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;"> TW</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">ST</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;"> Taiwan</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">L</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;"> Taipei</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">O</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;"> My Company</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">OU</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;"> IT Department</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">emailAddress</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;"> pamis@example.com</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">CN</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;"> localhost</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">[v3_req]</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">subjectAltName</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;"> @alt_names</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">[alt_names]</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">DNS.1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;"> *.localhost</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">DNS.2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;"> localhost</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">IP.1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;"> 192.168.100.87</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="透過-openssl-命令產生出自簽憑證與相對應的私密金鑰" tabindex="-1"><a class="header-anchor" href="#透過-openssl-命令產生出自簽憑證與相對應的私密金鑰"><span>透過 OpenSSL 命令產生出自簽憑證與相對應的私密金鑰</span></a></h3><p>透過以下命令就可以建立出  <strong>私密金鑰</strong> (<code>server.key</code>) 與  <strong>憑證檔案</strong> (<code>server.crt</code>)：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">openssl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> req</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -x509</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -new</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -nodes</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -sha256</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -utf8</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -days</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 3650</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -newkey</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> rsa:2048</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -keyout</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> server.key</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -out</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> server.crt</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -config</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ssl.conf</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="匯入自簽憑證" tabindex="-1"><a class="header-anchor" href="#匯入自簽憑證"><span>匯入自簽憑證</span></a></h3><ul><li>Windows</li></ul><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">certutil</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -addstore</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -f</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;ROOT&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> server.crt</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>Linux (Ubuntu, Debian)</li></ul><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> cp</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> server.crt</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /usr/local/share/ca-certificates/</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> update-ca-certificates</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="chrome-瀏覽器載入憑證問題" tabindex="-1"><a class="header-anchor" href="#chrome-瀏覽器載入憑證問題"><span>Chrome 瀏覽器載入憑證問題</span></a></h3><p>一般來說只要匯入完畢就會生效<br> 如果發現一直沒有生效<br> 就要查看 Chrome 的設定</p><p>於網址列輸入</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>chrome://flags/#allow-insecure-localhost</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>把選項設定為 Enabled 即可</p><h2 id="參考資料" tabindex="-1"><a class="header-anchor" href="#參考資料"><span>參考資料</span></a></h2><p><a href="https://blog.miniasp.com/post/2019/02/25/Creating-Self-signed-Certificate-using-OpenSSL" target="_blank" rel="noopener noreferrer">如何使用 OpenSSL 建立開發測試用途的自簽憑證 (Self-Signed Certificate)</a></p><p><a href="https://priesdelly.medium.com/how-to-access-https-on-localhost-in-google-chrome-cf92a929ccea" target="_blank" rel="noopener noreferrer">How to Access HTTPS:// on Localhost in Google Chrome</a></p>`,28)]))}const k=i(t,[["render",h]]),c=JSON.parse('{"path":"/posts/2023-03-28-self-signed-certificate/","title":"產生與設定自簽憑證","lang":"zh-TW","frontmatter":{"title":"產生與設定自簽憑證","date":"2023-03-28T00:00:00.000Z","category":"作業系統","tag":["SSH","OpenSSL","Linux"],"description":"產生與設定自簽憑證 前言 現在因為資安趨勢所致，對於網站的資安都有要求。 如果還是用 http 的網站或是有用 https 卻沒有 SSL 憑證， 就會看到瀏覽器噴出警告畫面。 當開發網站要在測試環境為了方便測試， 要讓伺服器自己產生一張憑證，然後匯入本機電腦， 瀏覽器才不會跳出警告畫面。 安裝 OpenSSL 工具 要建立自簽憑證就要先安裝 open...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"產生與設定自簽憑證\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2023-03-28T00:00:00.000Z\\",\\"dateModified\\":\\"2025-08-09T15:54:13.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Pamis Wang\\",\\"url\\":\\"https://pamis.dev\\",\\"email\\":\\"pamis.wang@gmail.com\\"}]}"],["meta",{"property":"og:url","content":"https://pamis.dev/posts/2023-03-28-self-signed-certificate/"}],["meta",{"property":"og:site_name","content":"Pamis Blog"}],["meta",{"property":"og:title","content":"產生與設定自簽憑證"}],["meta",{"property":"og:description","content":"產生與設定自簽憑證 前言 現在因為資安趨勢所致，對於網站的資安都有要求。 如果還是用 http 的網站或是有用 https 卻沒有 SSL 憑證， 就會看到瀏覽器噴出警告畫面。 當開發網站要在測試環境為了方便測試， 要讓伺服器自己產生一張憑證，然後匯入本機電腦， 瀏覽器才不會跳出警告畫面。 安裝 OpenSSL 工具 要建立自簽憑證就要先安裝 open..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-TW"}],["meta",{"property":"og:updated_time","content":"2025-08-09T15:54:13.000Z"}],["meta",{"property":"article:tag","content":"Linux"}],["meta",{"property":"article:tag","content":"OpenSSL"}],["meta",{"property":"article:tag","content":"SSH"}],["meta",{"property":"article:published_time","content":"2023-03-28T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-08-09T15:54:13.000Z"}]]},"git":{"createdTime":1689521396000,"updatedTime":1754754853000,"contributors":[{"name":"pamis","username":"pamis","email":"pamis1116@gmail.com","commits":3,"url":"https://github.com/pamis"},{"name":"EXMAIL\\\\pamis","username":"","email":"pamis@mail.tca.org.tw","commits":1},{"name":"Pamis Wang","username":"","email":"pamis1116@gmail.com","commits":3},{"name":"Claude","username":"Claude","email":"noreply@anthropic.com","commits":1,"url":"https://github.com/Claude"}]},"readingTime":{"minutes":1.46,"words":438},"filePathRelative":"posts/2023-03-28-self-signed-certificate/index.md","excerpt":"\\n<h2>前言</h2>\\n<p>現在因為資安趨勢所致，對於網站的資安都有要求。<br>\\n如果還是用 <code>http</code> 的網站或是有用 <code>https</code> 卻沒有 SSL 憑證，<br>\\n就會看到瀏覽器噴出警告畫面。</p>\\n<figure><figcaption></figcaption></figure>\\n<p>當開發網站要在測試環境為了方便測試，<br>\\n要讓伺服器自己產生一張憑證，然後匯入本機電腦，<br>\\n瀏覽器才不會跳出警告畫面。</p>\\n<h2>安裝 OpenSSL 工具</h2>\\n<p>要建立自簽憑證就要先安裝 <code>openssl</code> 套件</p>","autoDesc":true}');export{k as comp,c as data};
