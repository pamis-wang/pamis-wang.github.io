import{_ as a}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as n,e as s,b as t,o as e}from"./app-BnAZYMcT.js";const l={};function h(r,i){return e(),n("div",null,[i[0]||(i[0]=s('<h1 id="在-ubuntu-安裝-mariadb-資料庫" tabindex="-1"><a class="header-anchor" href="#在-ubuntu-安裝-mariadb-資料庫"><span>在 Ubuntu 安裝 MariaDB 資料庫</span></a></h1><h2 id="前言" tabindex="-1"><a class="header-anchor" href="#前言"><span>前言</span></a></h2><p>因為 MySQL 被甲骨文給買了，<br> 開源社群<s>免費仔們</s>擔心 MySQL 要不變成收費的，要不就是被冷凍了。<br> 後來也真的不出大家的意外就是了。</p><p>MariaDB 的開發團隊以 MySQL 為基礎開發的資料庫，<br> 所以許多開發者也無痛跳船了。</p>',4)),t(" more "),i[1]||(i[1]=s(`<h2 id="下載安裝" tabindex="-1"><a class="header-anchor" href="#下載安裝"><span>下載安裝</span></a></h2><p>官方套件列表就有可以直接下載了，<br> 基本上在同個作業系統版本上，<br> 資料庫版本不會差太多。</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> apt</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> update</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> apt</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mariadb-server</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="設定-mariadb" tabindex="-1"><a class="header-anchor" href="#設定-mariadb"><span>設定 MariaDB</span></a></h2><p>根據自己需要來設定，這邊提供翻譯參考。</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 執行安全安裝設定</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mysql_secure_installation</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 輸入root密碼，預設MariaDB沒有密碼，直接 Enter</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Enter</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> current</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> password</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> for</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> root</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (enter </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">for</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> none</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">):</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#是否切換到unix套接字身份驗證[Y/n]，輸入Y</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Switch</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> unix_socket</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> authentication</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [Y/n] n</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 是否設定 MySQL root 密碼，輸入N</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Change</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> root</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> password?</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [Y/n] N</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 移除匿名帳號，輸入Y</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Remove</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> anonymous</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> users?</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [Y/n] Y</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 不允許遠端使用root帳號登入，輸入Y</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Disallow</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> root</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> login</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> remotely?</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [Y/n] Y</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 移除測試資料庫與帳號，輸入Y</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Remove</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> test</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> database</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> and</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> access</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> it?</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [Y/n] Y</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 重新載入權限設定，輸入Y</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Reload</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> privilege</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> tables</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> now?</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [Y/n] Y</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="設定登入使用者" tabindex="-1"><a class="header-anchor" href="#設定登入使用者"><span>設定登入使用者</span></a></h3><p>密碼建議有一定的複雜度比較好，不然會從刪庫到跑路。</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mariadb</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">GRANT</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ALL</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> PRIVILEGES</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ON</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> *</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">*</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> TO</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;account&#39;@&#39;localhost&#39;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> IDENTIFIED</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> BY</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;password&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">FLUSH</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> PRIVILEGES</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">GRANT</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ALL</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> PRIVILEGES</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ON</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> *</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">*</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> TO</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;account&#39;@&#39;%&#39;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> IDENTIFIED</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> BY</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;password&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">FLUSH</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> PRIVILEGES</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">exit</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="設定遠端連線" tabindex="-1"><a class="header-anchor" href="#設定遠端連線"><span>設定遠端連線</span></a></h3><p>如果有需要用資料庫管理工具，例如 <code>DBeaver</code>，那就要設定遠端連線。</p><p>預設的設定檔路徑：<code>/etc/mysql/mariadb.conf.d/50-server.cnf</code><br> 將 <code>bind-address = 127.0.0.1</code> 改為 <code>bind-address = 0.0.0.0</code></p><h3 id="重新啟動資料庫" tabindex="-1"><a class="header-anchor" href="#重新啟動資料庫"><span>重新啟動資料庫</span></a></h3><p>重新啟動資料庫讓設定生效。</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> service</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mysql</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> restart</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="參考資料" tabindex="-1"><a class="header-anchor" href="#參考資料"><span>參考資料</span></a></h2><p><a href="https://www.gushiciku.cn/pl/pEmy/zh-tw" target="_blank" rel="noopener noreferrer">如何在 Ubuntu 20.04 上安裝 MariaDB</a><br><a href="https://www.digitalocean.com/community/tutorials/how-to-install-mariadb-on-ubuntu-20-04" target="_blank" rel="noopener noreferrer">How To Install MariaDB on Ubuntu 20.04</a><br><a href="https://medium.com/feveral%E7%9A%84%E7%A8%8B%E5%BC%8F%E7%AD%86%E8%A8%98/mariadb-%E5%85%81%E8%A8%B1%E5%A4%96%E9%83%A8%E9%80%A3%E7%B7%9A%E7%9A%84%E8%A8%AD%E5%AE%9A-f1c228443eaa" target="_blank" rel="noopener noreferrer">MariaDB 允許外部連線的設定</a></p><h2 id="補充資料" tabindex="-1"><a class="header-anchor" href="#補充資料"><span>補充資料</span></a></h2><p>在 MariaDB 中，unix_socket authentication 是一種身份驗證方法，它基於 Unix/Linux 操作系統中的文件系統權限來驗證用戶身份，而不是使用用戶名和密碼。它允許在本地主機上使用 MariaDB 客戶端連接到 MariaDB 服務器時，使用目前登錄的操作系統用戶身份進行身份驗證，而無需提供用戶名和密碼。</p><p>使用 unix_socket authentication 的優點是：</p><p>方便性：在本地主機上連接到 MariaDB 服務器時，不需要記住用戶名和密碼，因為可以使用當前登錄的操作系統用戶身份進行身份驗證。</p><p>安全性：不需要將用戶名和密碼存儲在 MariaDB 配置文件中，因此可以避免密碼洩露和暴力破解攻擊。</p><p>簡化管理：無需為每個 MariaDB 用戶分配單獨的用戶名和密碼，簡化了用戶管理。</p><p>需要注意的是，使用 unix_socket authentication 只適用於在本地主機上使用 MariaDB 客戶端連接到 MariaDB 服務器時進行身份驗證。如果需要從遠程主機上連接到 MariaDB 服務器，仍然需要使用用戶名和密碼進行身份驗證。</p>`,24))])}const d=a(l,[["render",h]]),o=JSON.parse('{"path":"/posts/2022-08-13-install-ubuntu-mariadb/","title":"在 Ubuntu 安裝 MariaDB 資料庫","lang":"zh-TW","frontmatter":{"title":"在 Ubuntu 安裝 MariaDB 資料庫","description":"在 Ubuntu 安裝 MariaDB 資料庫","date":"2022-08-13T00:00:00.000Z","category":"資料庫","tag":["MariaDB","MariaDB 10.6","Ubuntu","Ubuntu 22.04"],"head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"在 Ubuntu 安裝 MariaDB 資料庫\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2022-08-13T00:00:00.000Z\\",\\"dateModified\\":\\"2023-08-26T18:48:59.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Pamis Wang\\",\\"url\\":\\"https://pamis.dev\\",\\"email\\":\\"pamis.wang@gmail.com\\"}]}"],["meta",{"property":"og:url","content":"https://pamis.dev/posts/2022-08-13-install-ubuntu-mariadb/"}],["meta",{"property":"og:site_name","content":"Pamis Blog"}],["meta",{"property":"og:title","content":"在 Ubuntu 安裝 MariaDB 資料庫"}],["meta",{"property":"og:description","content":"在 Ubuntu 安裝 MariaDB 資料庫"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-TW"}],["meta",{"property":"og:updated_time","content":"2023-08-26T18:48:59.000Z"}],["meta",{"property":"article:tag","content":"Ubuntu 22.04"}],["meta",{"property":"article:tag","content":"Ubuntu"}],["meta",{"property":"article:tag","content":"MariaDB 10.6"}],["meta",{"property":"article:tag","content":"MariaDB"}],["meta",{"property":"article:published_time","content":"2022-08-13T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2023-08-26T18:48:59.000Z"}]]},"git":{"createdTime":1689521396000,"updatedTime":1693075739000,"contributors":[{"name":"pamis","username":"pamis","email":"pamis1116@gmail.com","commits":5,"url":"https://github.com/pamis"}]},"readingTime":{"minutes":2.83,"words":850},"filePathRelative":"posts/2022-08-13-install-ubuntu-mariadb/index.md","excerpt":"\\n<h2>前言</h2>\\n<p>因為 MySQL 被甲骨文給買了，<br>\\n開源社群<s>免費仔們</s>擔心 MySQL 要不變成收費的，要不就是被冷凍了。<br>\\n後來也真的不出大家的意外就是了。</p>\\n<p>MariaDB 的開發團隊以 MySQL 為基礎開發的資料庫，<br>\\n所以許多開發者也無痛跳船了。</p>\\n"}');export{d as comp,o as data};
